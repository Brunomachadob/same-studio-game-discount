(this["webpackJsonpsmart-game-discounts"]=this["webpackJsonpsmart-game-discounts"]||[]).push([[0],{41:function(e,a,t){e.exports=t(53)},46:function(e,a,t){},53:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(10),i=t.n(c),o=(t(46),t(22)),s=t(69),l=t(79),u=t(76),m=t(77),d=t(71),p=t(32),g=t.n(p),f=[{id:"1",name:"Matrix 1",price:10,studioId:"Universal",franchise:"matrix",tags:["rpg"]},{id:"2",name:"Matrix 2",price:10.5,studioId:"Universal",franchise:"matrix",tags:["rpg","open-world"]},{id:"3",name:"Matrix 3",price:20,studioId:"Universal",franchise:"matrix",tags:["rpg","open-world"]},{id:"4",name:"Elder Scrolls",price:40,studioId:"Bethesda",franchise:"elder-scrolls",tags:["rpg","open-world"]},{id:"5",name:"Elder Scrolls 2",price:50,studioId:"Bethesda",franchise:"elder-scrolls",tags:["rpg","open-world"]},{id:"6",name:"Elder Scrolls 3",price:60,studioId:"Bethesda",franchise:"elder-scrolls",tags:["rpg","open-world"]}],E=t(35),h=t(75),v=t(72),S=t(74),I=t(73),N=Object(s.a)((function(e){return Object(l.a)({root:{},studio:{fontSize:14},gameContainer:{display:"flex",flexWrap:"wrap"},game:{margin:e.spacing(1),minWidth:e.spacing(16),height:e.spacing(20)}})}));function y(e){var a=e.games,t=e.onRemoveGame,n=N();return r.a.createElement(E.a,{elevation:0,className:n.root},r.a.createElement(d.a,{variant:"h4"},"Library"),r.a.createElement("div",{className:n.gameContainer},a.map((function(e){return r.a.createElement(v.a,{key:e.id,elevation:3,className:n.game},r.a.createElement(I.a,null,r.a.createElement(d.a,{className:n.studio,color:"textSecondary"},e.studioId),r.a.createElement(d.a,{variant:"h5",component:"h2"},e.name)),r.a.createElement(S.a,null,r.a.createElement(h.a,{size:"small",onClick:function(){return t(e)}},"Destroy")))}))))}var x,O=Object(s.a)((function(e){return Object(l.a)({root:{},studio:{fontSize:14},gameContainer:{display:"flex",flexWrap:"wrap"},game:{margin:e.spacing(1),minWidth:e.spacing(20),height:e.spacing(20)}})})),A=new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"});function b(e){var a=e.games,t=e.onBuyGame,n=O();return r.a.createElement(E.a,{elevation:0,className:n.root},r.a.createElement(d.a,{variant:"h4"},"Store"),r.a.createElement("div",{className:n.gameContainer},a.map((function(e){return r.a.createElement(v.a,{key:e.id,elevation:3,className:n.game},r.a.createElement(I.a,null,r.a.createElement(d.a,{className:n.studio,color:"textSecondary"},e.studioId),r.a.createElement(d.a,{variant:"h5",component:"h2"},e.name),r.a.createElement(d.a,{color:"textSecondary"},A.format(e.price))),r.a.createElement(S.a,null,r.a.createElement(h.a,{size:"small",onClick:function(){return t(e)}},"Buy")))}))))}!function(e){e[e.SAME_STUDIO=0]="SAME_STUDIO",e[e.SAME_FRANCHISE=1]="SAME_FRANCHISE",e[e.CONTAINS_TAG=2]="CONTAINS_TAG"}(x||(x={}));var w=Object(s.a)((function(e){return Object(l.a)({root:{},rulesContainer:{display:"flex",flexWrap:"wrap"},rule:{margin:e.spacing(1)}})}));function C(e){var a=e.rules,t=w();return r.a.createElement(E.a,{elevation:0,className:t.root},r.a.createElement(d.a,{variant:"h4"},"Rules"),r.a.createElement("div",{className:t.rulesContainer},a.map((function(e){return r.a.createElement(v.a,{key:e.id,elevation:3,className:t.rule},r.a.createElement(I.a,null,r.a.createElement(d.a,null,e.studioId),r.a.createElement(d.a,null,function(e){var a,t;switch(e.type){case x.SAME_STUDIO:return"".concat(e.percentage,"% discount per game of the same studio you own, up to ").concat(e.maxPercentage,"%");case x.SAME_FRANCHISE:return"".concat(e.percentage,"% discount per game of the same studio and franchise you own, up to ").concat(e.maxPercentage,"%");case x.CONTAINS_TAG:return"".concat(e.percentage,"% discount per game of the same studio and with tags '").concat(null===(a=e.options)||void 0===a||null===(t=a.tags)||void 0===t?void 0:t.join(" or "),"' you own, up to ").concat(e.maxPercentage,"%")}}(e))))}))))}var T=t(33);function j(e,a,t){return t.reduce((function(t,n){var r,c,i;return t+(a.studioId===e.studioId&&(M(e.type,a,n)||(r=e.type,c=a,i=n,r===x.SAME_FRANCHISE&&M(x.SAME_STUDIO,c,i)&&c.franchise===i.franchise)||function(e,a,t,n){return e===x.CONTAINS_TAG&&t.studioId===a&&t.tags.findIndex((function(e){return n.tags.includes(e)}))>-1}(e.type,e.studioId,n,e.options))?1:0)}),0)}function M(e,a,t){return e===x.SAME_STUDIO&&a.studioId===t.studioId}function _(e,a,t){var n=function(e,a,t){var n=e.map((function(e){var n=j(e,a,t)||0;return Math.min(n*e.percentage,e.maxPercentage)})).sort();return n.length?n[n.length-1]:0}(e,a,t);return a.price-a.price*n/100}var G=t(78),U=Object(s.a)((function(e){return Object(l.a)({root:{flexGrow:1,padding:e.spacing(1),"& > *":{margin:e.spacing(1)}},title:{flexGrow:1}})})),B=[{id:"1",type:x.SAME_STUDIO,percentage:5,maxPercentage:10,studioId:"Universal"},{id:"2",type:x.CONTAINS_TAG,percentage:50,maxPercentage:100,studioId:"Bethesda",options:{tags:["open-world"]}}];function k(){var e=U(),a=Object(n.useState)(f),t=Object(o.a)(a,2),c=t[0],i=t[1],s=Object(n.useState)([]),l=Object(o.a)(s,2),p=l[0],E=l[1];Object(n.useEffect)((function(){var e,a,t=p.map((function(e){return e.id})),n=f.filter((function(e){return!t.includes(e.id)})),r=(e=B,a=p,n.map((function(t){return Object(T.a)({},t,{price:_(e,t,a)})})));i(r)}),[p]);return r.a.createElement("div",null,r.a.createElement(u.a,{position:"static"},r.a.createElement(m.a,null,r.a.createElement(d.a,{variant:"h6",className:e.title},"Smart game discounts"),r.a.createElement(G.a,{edge:"start",color:"inherit","aria-label":"github",target:"blank",href:"https://github.com/Brunomachadob/smart-game-discounts"},r.a.createElement(g.a,null)))),r.a.createElement("div",{className:e.root},r.a.createElement(C,{rules:B}),r.a.createElement(b,{games:c,onBuyGame:function(e){E((function(a){return a.concat(e)}))}}),r.a.createElement(y,{games:p,onRemoveGame:function(e){E((function(a){return a.filter((function(a){return a.id!==e.id}))}))}})))}i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.57eeac83.chunk.js.map